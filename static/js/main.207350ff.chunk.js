(this.webpackJsonptodo_list=this.webpackJsonptodo_list||[]).push([[0],{40:function(e,t,a){e.exports=a(71)},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=a(13),u=a(1),s=a(16),i=a(37),m=a(3),d=function(e){return{type:"SET_TOKEN",token:e}},f={token:""},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(m.a)(Object(m.a)({},e),{},{token:t.token});default:return e}},p=function(e){return{type:"SET_IS_LOADING",value:e}},b=function(e){return{type:"SET_HAS_ERROR",value:e}},E={isLoading:!1,hasError:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:t.value});case"SET_HAS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{hasError:t.value});default:return e}},v=a(18),O=a.n(v),N=a(23),g=a(14),j=a.n(g),S="http://ec2-18-219-246-237.us-east-2.compute.amazonaws.com:7778/api/v1",y="https://cors-anywhere.herokuapp.com",T=function(e){return{type:"SET_TOODS",todos:e}},k=function(e){return{type:"SET_TOTAL_ITEMS",value:e}},w=function(e){return{type:"SET_UPDATE_TODOS",updated_at:e}},x=function(e){return{type:"SET_QUERY_STORE",query:e}},C={todos:[],query:"",totalItems:0,updateTodos:0},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOODS":return Object(m.a)(Object(m.a)({},e),{},{todos:t.todos});case"SET_TOTAL_ITEMS":return Object(m.a)(Object(m.a)({},e),{},{totalItems:t.value});case"SET_UPDATE_TODOS":return Object(m.a)(Object(m.a)({},e),{},{updateTodos:t.updated_at});case"SET_QUERY_STORE":return Object(m.a)(Object(m.a)({},e),{},{query:t.query});default:return e}},D=function(e){return function(e){return e.token}(e.token)},A=function(e){return function(e){return e.isLoading}(e.loading)},P=function(e){return function(e){return e.hasError}(e.loading)},F=function(e){return function(e){return e.todos}(e.todos)},R=function(e){return function(e){return e.totalItems}(e.todos)},L=function(e){return function(e){return e.updateTodos}(e.todos)},U=function(e){return function(e){return e.query}(e.todos)},q=Object(s.c)({token:_,loading:h,todos:I}),z=JSON.parse(localStorage.getItem("reduxState"))||{},H=Object(s.d)(q,z,Object(s.a)(i.a));H.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(H.getState()))}));var G=H,J=a(4),K=a(15),M=a(5),Q=a(11),Y=a.n(Q),B=function(){return r.a.createElement("div",{className:"lds-container"},r.a.createElement("div",{className:"lds-body"},r.a.createElement("div",{className:"lds-roller"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))},V=function(e){var t=e.history,a=Object(u.b)(),c=Object(u.c)(A),o=Object(u.c)(P),s=Object(n.useState)({first_name:"",last_name:"",email:"",username:"",password:""}),i=Object(M.a)(s,2),d=i[0],f=i[1];Object(n.useEffect)((function(){a(p(!1)),a(b(!1))}),[]);var _=Y()({"error-input":o}),E=Y()({"error-input":d.email&&o}),h=function(e){var t=e.target.id,n=e.target.value;a(b(!1)),f((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(K.a)({},t,n))}))};return r.a.createElement("div",{className:"container"},c&&r.a.createElement(B,null),r.a.createElement("form",{className:"form form-sign",onSubmit:function(e){(e.preventDefault(),a(p(!0)),"username"in d&&"password"in d)?function(e){return j()({method:"POST",url:"".concat(y,"/").concat(S,"/users/"),data:e})}(d).then((function(){t.push("/")})).catch((function(){a(b(!0))})):a(b(!0));a(p(!1))}},r.a.createElement("h2",{className:"form__heading"},"Registration Form"),r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__item"},r.a.createElement("label",{htmlFor:"first_name",className:"form__label"},"First Name"),r.a.createElement("input",{value:d.first_name,type:"text",id:"first_name",className:"form__input",onChange:h})),r.a.createElement("div",{className:"form__item"},r.a.createElement("label",{htmlFor:"last_name",className:"form__label"},"Last Name"),r.a.createElement("input",{value:d.last_name,type:"text",id:"last_name",className:"form__input",onChange:h}))),r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__item form__email"},r.a.createElement("label",{htmlFor:"email",className:"form__label"},"Email"),r.a.createElement("input",{value:d.email,type:"text",id:"email",className:"form__input form__input--email ".concat(E),onChange:h}))),r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__item"},r.a.createElement("label",{htmlFor:"username",className:"form__label required"},"Username"),r.a.createElement("input",{value:d.username,type:"text",id:"username",className:"form__input ".concat(_),onChange:h})),r.a.createElement("div",{className:"form__item"},r.a.createElement("label",{htmlFor:"password",className:"form__label required"},"Password"),r.a.createElement("input",{value:d.password,type:"password",id:"password",className:"form__input ".concat(_),onChange:h}))),r.a.createElement("div",{className:"form__buttons"},r.a.createElement("button",{type:"submit",className:"button button__pink"},"Sign Up"),r.a.createElement("p",{className:"form__or"},"OR"),r.a.createElement(l.NavLink,{to:"/"},r.a.createElement("button",{className:"button form__button"},"Sign In")))))},W=function(e){var t=e.history,a=Object(u.b)(),c=Object(u.c)(A),o=Object(u.c)(P),s=Object(u.c)(D),i=Y()({"error-input":o}),m=Y()({"error-text":o}),f=Object(n.useState)(""),_=Object(M.a)(f,2),E=_[0],h=_[1],v=Object(n.useState)(""),O=Object(M.a)(v,2),N=O[0],g=O[1];Object(n.useEffect)((function(){a(p(!1)),a(b(!1))}),[]);return""!==s&&t.push("/profile"),r.a.createElement("div",{className:"container"},c&&r.a.createElement(B,null),r.a.createElement("form",{className:"form form-sign",onSubmit:function(e){if(a(p(!0)),e.preventDefault(),!E||!N)return a(b(!0)),void a(p(!1));(function(e,t){return j()({method:"POST",url:"".concat(y,"/").concat("http://ec2-18-219-246-237.us-east-2.compute.amazonaws.com:7778","/api-token-auth/"),data:{username:e,password:t}})})(E,N).then((function(e){a(d(e.data.token)),t.push("/profile")})).catch((function(e){a(b(!0)),g(""),a(d(""))})),a(p(!1))}},r.a.createElement("h2",{className:"form__heading"},"Sign In"),r.a.createElement("div",{className:"form__row"},r.a.createElement("div",{className:"form__item"},r.a.createElement("label",{htmlFor:"username",className:"form__label ".concat(m)},"Username"),r.a.createElement("input",{value:E,type:"text",id:"username",className:"form__input ".concat(i),onChange:function(e){h(e.target.value),a(b(!1))}})),r.a.createElement("div",{className:"form__item"},r.a.createElement("label",{htmlFor:"password",className:"form__label ".concat(m)},"Password"),r.a.createElement("input",{value:N,type:"password",id:"password",className:"form__input ".concat(i),onChange:function(e){g(e.target.value),a(b(!1))}}))),r.a.createElement("div",{className:"form__buttons"},r.a.createElement("button",{type:"submit",className:"button form__button"},"Sign In"),r.a.createElement("p",{className:"form__or"},"OR"),r.a.createElement(l.NavLink,{to:"/sign-up"},r.a.createElement("button",{className:"button button__pink"},"Sign Up")))))},X=a(38),Z=a.n(X),$=function(e){var t=e.todo,a=Object(u.b)(),c=Object(u.c)(D),o=Object(n.useState)(!1),l=Object(M.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(t.title),d=Object(M.a)(m,2),f=d[0],_=d[1],E=Object(n.useState)(t.body),h=Object(M.a)(E,2),v=h[0],O=h[1],N=Object(n.useState)(t.status),g=Object(M.a)(N,2),T=g[0],k=g[1],x=function(e,n){a(p(!0));try{(function(e,t,a){return j()({method:"PATCH",url:"".concat(y,"/").concat(S,"/todo/").concat(t,"/"),headers:{Authorization:"Token "+a},data:e})})(e,t.id,c).then((function(){a(w(+Date.now())),n&&k(!T)}))}catch(r){a(b(!0))}a(p(!1)),i(!1)};return r.a.createElement("li",{className:Y()({todo__item:!0,completed:t.status})},r.a.createElement("div",{className:"round"},r.a.createElement("input",{type:"checkbox",id:t.id,checked:T,onChange:function(){return x({status:!T},!0)}}),r.a.createElement("label",{htmlFor:t.id})),s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"todo__edit"},r.a.createElement("input",{type:"text",className:"todo__input-edit",value:f,onChange:function(e){return _(e.target.value)}}),r.a.createElement("input",{type:"text",className:"todo__input-edit todo__input-edit--descr",value:v,onChange:function(e){return O(e.target.value)}}),r.a.createElement("button",{className:"button button__edit button__edit--green",onClick:function(){x({title:f,body:v})}},"\u2714")),r.a.createElement("button",{className:"button button__edit",onClick:function(){i(!1),_(t.title),O(t.body)}},"\u2715")):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"todo__title"},t.title),r.a.createElement("p",{className:"todo__description"},t.body),r.a.createElement("button",{className:"button button__edit",onClick:function(){i(!0)}},"edit")))},ee=function(){var e=Object(u.c)(F);return r.a.createElement("ul",{className:"todo__list"},e.map((function(e){return r.a.createElement($,{key:e.id,todo:e})})))},te=function(){var e=Object(u.b)(),t=Object(n.useState)(""),a=Object(M.a)(t,2),c=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"profile__search",onSubmit:function(t,a){t.preventDefault(),""===a?e(x("")):(e(x(c.trim())),o(c.trim()))}},r.a.createElement("input",{value:c,type:"text",className:"form__input",placeholder:"Enter the title of todo",onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{className:"button",type:"submit"},"Search")),r.a.createElement("p",{className:"profile__notice"},"If you want to see all todos, search with an empty string."))},ae=function(){var e=Object(u.b)(),t=Object(u.c)(D),a=Object(n.useState)({id:"",title:"",body:""}),c=Object(M.a)(a,2),o=c[0],l=c[1],s=function(e){var t=e.target.id,a=e.target.value;l((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(K.a)({},t,a))}))};return r.a.createElement("div",{className:"profile__add"},r.a.createElement("input",{value:o.title,id:"title",type:"text",className:"form__input form__input-add",placeholder:"Title",onChange:s}),r.a.createElement("textarea",{value:o.body,id:"body",className:"form__input form__textarea",placeholder:"Description",onChange:s}),r.a.createElement("button",{className:"button",onClick:function(){l((function(e){return Object(m.a)(Object(m.a)({},e),{},{id:+new Date})})),e(p(!0));try{(function(e,t){return j()({method:"POST",url:"".concat(y,"/").concat(S,"/todo/"),headers:{Authorization:"Token "+t},data:e})})(o,t).then((function(){e(w(+Date.now()))})),l({id:"",title:"",body:""})}catch(a){e(b(!0))}e(p(!1))}},"Add Todo"))},ne=a(39),re=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"profile"},r.a.createElement("p",{className:"profile__error"},"Please, ",r.a.createElement(ne.HashLink,{to:"/#"},"login")," to use this page")))},ce=function(e){var t=e.history,a=Object(u.b)();return r.a.createElement("div",{className:"profile__header"},r.a.createElement("h1",{className:"profile__heading"},"TODOS"),r.a.createElement("button",{className:"profile__button",onClick:function(){a(d("")),t.push("/")}},"Sign Out"))},oe=function(e){var t=e.history,a=Object(u.b)(),c=Object(u.c)(D),o=Object(u.c)(P),l=Object(u.c)(A),s=Object(u.c)(R),i=Object(u.c)(L),m=Object(u.c)(U),d=Object(n.useState)(1),f=Object(M.a)(d,2),_=f[0],E=f[1];return Object(n.useEffect)((function(){a(m?function(e,t){return function(){var a=Object(N.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(p(!0)),a.prev=1,a.next=4,j()({method:"GET",url:"".concat(y,"/").concat(S,"/todo/?search=").concat(e),headers:{Authorization:"Token "+t}});case 4:r=a.sent,n(T(r.data.results)),n(k(r.data.count)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n(b(!0));case 12:n(p(!1));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(m,c):c?function(e,t){return function(){var a=Object(N.a)(O.a.mark((function a(n){var r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(p(!0)),a.prev=1,a.next=4,j()({method:"GET",url:"".concat(y,"/").concat(S,"/todo/?page=").concat(e),headers:{Authorization:"Token "+t}});case 4:r=a.sent,n(T(r.data.results)),n(k(r.data.count)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),n(b(!0));case 12:n(p(!1));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}(_,c):b(!0))}),[_,i,c,m]),o?r.a.createElement(re,null):r.a.createElement("div",{className:"container"},l&&r.a.createElement(B,null),r.a.createElement("div",{className:"profile"},r.a.createElement(ce,{history:t}),r.a.createElement(ae,null),r.a.createElement("hr",{className:"profile__hr"}),r.a.createElement(te,null),s?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null),r.a.createElement("div",null,r.a.createElement(Z.a,{activePage:_,totalItemsCount:s,itemsCountPerPage:10,onChange:function(e){return E(e)},innerClass:"pages",linkClass:"pages__link",activeLinkClass:"pages__link--active",prevPageText:"\u2039",nextPageText:"\u203a"}))):r.a.createElement("p",{className:"profile__notodos"},"No todos found")))};var le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J.d,{path:"/sign-up",exact:!0,component:V}),r.a.createElement(J.d,{path:"/",exact:!0,component:W}),r.a.createElement(J.d,{path:"/Profile",component:oe}))};a(70);o.a.render(r.a.createElement(l.HashRouter,null,r.a.createElement(u.a,{store:G},r.a.createElement(le,null))),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.207350ff.chunk.js.map